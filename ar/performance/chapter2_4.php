<?php

    include("../inc/header.php");

?>
<link rel="stylesheet" href="../assets/css/ch2/chapter2_4.css">
<style type="text/css">
  .bold{font-family: AxiataBold;}
</style>
		<div id="scrollTrigger90px" style="position:fixed; top:90px; z-index:1000;"></div>
		<div id="scrollTrigger10" style="position:fixed; top:10%; z-index:1000;"></div>
		<div id="scrollTrigger20" style="position:fixed; top:20%; z-index:1000;"></div>
		<div id="scrollTrigger25" style="position:fixed; top:25%; z-index:1000;"></div>
		<div id="scrollTrigger30" style="position:fixed; top:30%; z-index:1000;"></div>
		<div id="scrollTrigger40" style="position:fixed; top:40%; z-index:1000;"></div>
		<div id="scrollTrigger50" style="position:fixed; top:50%; z-index:1000;"></div>
		<div id="scrollTrigger60" style="position:fixed; top:60%; z-index:1000;"></div>
		<div id="scrollTrigger70" style="position:fixed; top:70%; z-index:1000;"></div>
		<div id="scrollTrigger75" style="position:fixed; top:75%; z-index:1000;"></div>
		<div id="scrollTrigger80" style="position:fixed; top:80%; z-index:1000;"></div>
		<div id="scrollTrigger90" style="position:fixed; top:90%; z-index:1000;"></div>
		<div id="scrollTrigger100" style="position:fixed; top:100%; z-index:1000;"></div>

		<section id="keyHighlightsSection">
			<div style="width:960px; margin:0 auto; padding:55px; margin-top:90px; height:1400px; box-sizing:border-box; overflow:hidden;">
				<div style="margin-top:0px; line-height:1;">
					<span class="title grey8Color" style="font-size:25px;">Five-Year Group</span><br />
					<span class="title maroonColor" style="font-size:31px;">Financial Performance</span>
				</div>
				<div style="margin-top:40px;">
					<div id="leftCol" style="position:relative; margin-top:0px;">
						<div style="position:relative;">
              <div style="position:relative; left:50px;">
                <div id="graphTriggerTopRow1" style="position:relative; font-size:16px;" class="title">Operating Revenue</div>
                <div style="position:relative; font-size:14px;">(RM Billion)</div>
              </div>
              <div style="position:relative; left:50px; margin-top:271px;">
                <div id="graphTriggerBottomRow1" style="position:relative; width:250px; height:6px; border-style:solid; border-top-style:none; border-width:1px; background-color:white; z-index:10;"></div>
                <div id="graph11" style="position:absolute; top:-6px; left:10px;"></div>
                <div id="graph12" style="position:absolute; top:-6px; left:62px;"></div>
                <div id="graph13" style="position:absolute; top:-6px; left:114px;"></div>
                <div id="graph14" style="position:absolute; top:-6px; left:166px;"></div>
                <div id="graph15" style="position:absolute; top:-6px; left:218px;"></div>
                <div class="graphRow1Year" style="position:relative; top:215px; left:55px;">
                  <div class="graphYear" style="position:relative; top:-196px; left:-55px;">2010</div>
									<div class="graphYear" style="position:relative; top:-216px; left:0px;">2011</div>
									<div class="graphYear" style="position:relative; top:-235px; left:50px;">2012</div>
									<div class="graphYear" style="position:relative; top:-253px; left:105px;">2013</div>
									<div class="graphYear bold" style="position:relative; top:-274px; left:155px;">2014</div>
                </div>
                <div class="graphRow1Number">
                  <div style="position:relative; top:-310px; left:8px;">15.6</div>
									<div style="position:relative; top:-341px; left:60px;">16.3</div>
									<div style="position:relative; top:-372px; left:114px;">17.7</div>
									<div style="position:relative; top:-403px; left:163px;">18.4</div>
									<div class="bold" style="position:relative; top:-435px; left:216px;">18.7</div>
                </div>
              </div>
              <div style="position:absolute; top:48px; left:227px;">
              	<div style="position:absolute;"><img src="../assets/img/chapter2/4/dots.png" /></div>
              	<div class="grey4Color" style="position:absolute; font-size:14px; top:-20px; left:25px;">+2%</div>
              </div>
            </div>
            <div style="position:relative; top:-80px;">
              <div style="position:relative; left:50px;">
                <div id="graphTriggerTopRow2" style="position:relative; font-size:16px;" class="title">PAT</div>
                <div style="position:relative; font-size:14px;">(RM Billion)</div>
              </div>
              <div style="position:relative; left:50px; margin-top:271px;">
                <div id="graphTriggerBottomRow2" style="position:relative; width:250px; height:6px; border-style:solid; border-top-style:none; border-width:1px; background-color:white; z-index:10;"></div>
                <div id="graph21" style="position:absolute; top:-6px; left:10px;"></div>
                <div id="graph22" style="position:absolute; top:-6px; left:62px;"></div>
                <div id="graph23" style="position:absolute; top:-6px; left:114px;"></div>
                <div id="graph24" style="position:absolute; top:-6px; left:166px;"></div>
                <div id="graph25" style="position:absolute; top:-6px; left:218px;"></div>
                <div class="graphRow2Year" style="position:relative; top:215px; left:55px;">
                  <div class="graphYear" style="position:relative; top:-196px; left:-55px;">2010</div>
									<div class="graphYear" style="position:relative; top:-216px; left:0px;">2011</div>
									<div class="graphYear" style="position:relative; top:-235px; left:50px;">2012</div>
									<div class="graphYear" style="position:relative; top:-253px; left:105px;">2013</div>
									<div class="graphYear bold" style="position:relative; top:-274px; left:155px;">2014</div>
                </div>
                <div class="graphRow2Number">
                  <div style="position:relative; top:-272px; left:13px;">2.1</div>
									<div style="position:relative; top:-362px; left:63px;">2.7</div>
									<div style="position:relative; top:-406px; left:114px;">2.9</div>
									<div style="position:relative; top:-402px; left:167px;">2.7</div>
									<div class="bold" style="position:relative; top:-373px; left:218px;">2.3</div>
                </div>
              </div>
              <div style="position:absolute; top:48px; left:227px;">
              	<div style="position:absolute;"><img src="../assets/img/chapter2/4/dots.png" /></div>
              	<div class="grey4Color" style="position:absolute; font-size:14px; top:-20px; left:25px;">-14%</div>
              </div>
            </div>
            <div style="position:relative; top:-160px;">
              <div style="position:relative; left:50px;">
                <div id="graphTriggerTopRow3" style="position:relative; font-size:16px;" class="title">ROIC</div>
                <div style="position:relative; font-size:14px;">(%)</div>
              </div>
              <div style="position:relative; left:50px; margin-top:271px;">
                <div id="graphTriggerBottomRow3" style="position:relative; width:250px; height:6px; border-style:solid; border-top-style:none; border-width:1px; background-color:white; z-index:10;"></div>
                <div id="graph31" style="position:absolute; top:-6px; left:10px;"></div>
                <div id="graph32" style="position:absolute; top:-6px; left:62px;"></div>
                <div id="graph33" style="position:absolute; top:-6px; left:114px;"></div>
                <div id="graph34" style="position:absolute; top:-6px; left:166px;"></div>
                <div id="graph35" style="position:absolute; top:-6px; left:218px;"></div>
                <div class="graphRow3Year" style="position:relative; top:215px; left:55px;">
                  <div class="graphYear" style="position:relative; top:-196px; left:-55px;">2010</div>
									<div class="graphYear" style="position:relative; top:-216px; left:0px;">2011</div>
									<div class="graphYear" style="position:relative; top:-235px; left:50px;">2012</div>
									<div class="graphYear" style="position:relative; top:-253px; left:105px;">2013</div>
									<div class="graphYear bold" style="position:relative; top:-274px; left:155px;">2014</div>
                </div>
                <div class="graphRow3Number">
                  <div style="position:relative; top:-355px; left:9px;">11.8</div>
									<div style="position:relative; top:-387px; left:62px;">12.1</div>
									<div style="position:relative; top:-393px; left:114px;">11.8</div>
									<div style="position:relative; top:-389px; left:164px;">10.7</div>
									<div class="bold" style="position:relative; top:-396px; left:219px;">9.0</div>
                </div>
              </div>
              <div style="position:absolute; top:62px; left:227px;">
              	<div style="position:absolute;"><img src="../assets/img/chapter2/4/dots.png" /></div>
              	<div class="grey4Color" style="position:absolute; font-size:14px; top:-20px; left:10px;">-1.7ppt</div>
              </div>
            </div>
					</div>
          <div id="marginTop"></div>
					<div id="rightCol" style="position:relative; margin-top:-1528px; margin-left:460px;">
						<div style="position:relative;">
              <div style="position:relative; left:50px;">
                <div style="position:relative; font-size:16px;" class="title">EBITDA</div>
                <div style="position:relative; font-size:14px;">(RM Billion)</div>
              </div>
              <div style="position:relative; left:50px; margin-top:265px;">
                <div style="position:relative; width:250px; height:6px; border-style:solid; border-top-style:none; border-width:1px; background-color:white; z-index:10;"></div>
                <div id="graph16" style="position:absolute; top:-10px; left:10px;"></div>
                <div id="graph17" style="position:absolute; top:-4px; left:62px;"></div>
                <div id="graph18" style="position:absolute; top:-10px; left:114px;"></div>
                <div id="graph19" style="position:absolute; top:-7px; left:166px;"></div>
                <div id="graph110" style="position:absolute; top:-7px; left:218px;"></div>
                <div class="graphRow1Year" style="position:relative; top:215px; left:55px;">
                  <div class="graphYear" style="position:relative; top:-196px; left:-55px;">2010</div>
									<div class="graphYear" style="position:relative; top:-216px; left:0px;">2011</div>
									<div class="graphYear" style="position:relative; top:-235px; left:50px;">2012</div>
									<div class="graphYear" style="position:relative; top:-253px; left:105px;">2013</div>
									<div class="graphYear bold" style="position:relative; top:-274px; left:155px;">2014</div>
                </div>
                <div class="graphRow1Number">
                  <div style="position:relative; top:-336px; left:13px;">7.1</div>
									<div style="position:relative; top:-361px; left:64px;">7.2</div>
									<div style="position:relative; top:-385px; left:116px;">7.4</div>
									<div style="position:relative; top:-401px; left:168px;">7.3</div>
									<div class="bold" style="position:relative; top:-409px; left:220px;">7.0</div>
                </div>
              </div>
              <div style="position:absolute; top:43px; left:227px;">
              	<div style="position:absolute;"><img src="../assets/img/chapter2/4/dots.png" /></div>
              	<div class="grey4Color" style="position:absolute; font-size:14px; top:-20px; left:25px;">-4%</div>
              </div>
            </div>
            <div class="report_chart_1" style="position:relative; top:-80px;">
              <div style="position:relative; left:50px;">
                <div style="position:relative; font-size:16px;" class="title">Normalised PATAMI</div>
                <div style="position:relative; font-size:14px;">(RM Billion)</div>
              </div>
              <div style="position:relative; left:50px; margin-top:271px;">
                <div style="position:relative; width:250px; height:6px; border-style:solid; border-top-style:none; border-width:1px; background-color:white; z-index:10;"></div>
                <div id="graph26" style="position:absolute; top:-6px; left:10px;"></div>
                <div id="graph27" style="position:absolute; top:-6px; left:62px;"></div>
                <div id="graph28" style="position:absolute; top:-6px; left:114px;"></div>
                <div id="graph29" style="position:absolute; top:-6px; left:166px;"></div>
                <div id="graph210" style="position:absolute; top:-6px; left:218px;"></div>
                <div class="graphRow2Year" style="position:relative; top:215px; left:55px;">
                  <div class="graphYear" style="position:relative; top:-196px; left:-55px;">2010</div>
									<div class="graphYear" style="position:relative; top:-216px; left:0px;">2011</div>
									<div class="graphYear" style="position:relative; top:-235px; left:50px;">2012</div>
									<div class="graphYear" style="position:relative; top:-253px; left:105px;">2013</div>
									<div class="graphYear bold" style="position:relative; top:-274px; left:155px;">2014</div>
                </div>
                <div class="graphRow2Number">
                  <div style="position:relative; top:-307px; left:10px;">2.5</div>
									<div style="position:relative; top:-326px; left:63px;">2.5</div>
									<div style="position:relative; top:-382px; left:115px;">2.8</div>
									<div style="position:relative; top:-401px; left:167px;">2.8</div>
									<div class="bold" style="position:relative; top:-349px; left:218px;">2.2</div>
                </div>
              </div>
              <div style="position:absolute; top:48px; left:227px;">
              	<div style="position:absolute;"><img src="../assets/img/chapter2/4/dots.png" /></div>
              	<div class="grey4Color" style="position:absolute; font-size:14px; top:-20px; left:25px;">-19%*</div>
              </div>
              <div style="position:absolute; top:352px; left:56px;">
              	<div style="position:absolute; width:50px; font-size:12px;">note 1</div>
              	<div style="position:absolute; width:50px; font-size:12px; left:51px;">note 2</div>
              	<div style="position:absolute; width:50px; font-size:12px; left:104px;">note 3</div>
              	<div style="position:absolute; width:50px; font-size:12px; left:155px;">note 4</div>
              	<div style="position:absolute; width:50px; font-size:12px; left:208px;">note 5</div>
              </div>
              <div style="position:absolute; top:10px; left:300px;">
                <a href="#" class="zoom-in" data-target="report_chart_1">
                  <i class="fa fa-search-plus"></i>
                  <i class="fa fa-search-minus" style="display:none;"></i>
                </a>
              </div>
            </div>
            <div style="position:relative; top:-160px;">
              <div style="position:relative; left:50px;">
                <div style="position:relative; font-size:16px;" class="title">Subscribers</div>
                <div style="position:relative; font-size:14px;">(Million)</div>
              </div>
              <div style="position:relative; left:50px; margin-top:271px;">
                <div style="position:relative; width:250px; height:6px; border-style:solid; border-top-style:none; border-width:1px; background-color:white; z-index:10;"></div>
                <div id="graph36" style="position:absolute; top:-6px; left:10px;"></div>
                <div id="graph37" style="position:absolute; top:-6px; left:62px;"></div>
                <div id="graph38" style="position:absolute; top:-6px; left:114px;"></div>
                <div id="graph39" style="position:absolute; top:-6px; left:166px;"></div>
                <div id="graph310" style="position:absolute; top:-6px; left:218px;"></div>
                <div class="graphRow3Year" style="position:relative; top:215px; left:55px;">
                  <div class="graphYear" style="position:relative; top:-196px; left:-55px;">2010</div>
									<div class="graphYear" style="position:relative; top:-216px; left:0px;">2011</div>
									<div class="graphYear" style="position:relative; top:-235px; left:50px;">2012</div>
									<div class="graphYear" style="position:relative; top:-253px; left:105px;">2013</div>
									<div class="graphYear bold" style="position:relative; top:-274px; left:155px;">2014</div>
                </div>
                <div class="graphRow3Number">
                  <div style="position:relative; top:-235px; left:9px;">160</div>
									<div style="position:relative; top:-302px; left:62px;">199</div>
									<div style="position:relative; top:-333px; left:112px;">205</div>
									<div style="position:relative; top:-400px; left:164px;">244</div>
									<div class="bold" style="position:relative; top:-444px; left:216px;">266</div>
                </div>
              </div>
              <div style="position:absolute; top:30px; left:227px;">
              	<div style="position:absolute;"><img src="../assets/img/chapter2/4/dots2.png" /></div>
              	<div class="grey4Color" style="position:absolute; font-size:14px; top:-20px; left:25px;">+9%</div>
              </div>
            </div>
					</div>
				</div>
			</div>
		</section>
		
<?php
    include("../inc/footer.php");
?>
		<script src="../assets/js/jquery.zoomooz.min.js"></script>
		<script type="text/javascript">
      function zoomElement(elementClass){
          selector="."+elementClass;
          $(selector).find('.fa-search-plus').toggle();
          $(selector).find('.fa-search-minus').toggle();
          if($(selector).hasClass('zoomedTo'))
          {
              $('body').zoomTo({targetsize:1, duration:300});
              $(selector).removeClass('zoomedTo');
          }
          else
          {
              $(selector).zoomTo({targetsize:1.2, duration:300});
              $(selector).addClass('zoomedTo');
          }
          
      }

			var graphAnimationTime = 1000;
			var bottomTrigger = $('#scrollTrigger100');
			var isGraphRow1Reached = [false,false,false,false,false,false,false,false,false,false];
			var isGraphRow2Reached = [false,false,false,false,false,false,false,false,false,false];
			var isGraphRow3Reached = [false,false,false,false,false,false,false,false,false,false];
			var graph1ToFunctionArray = [];
			var graph2ToFunctionArray = [];
			var graph3ToFunctionArray = [];

			$(function () {
        $('.zoom-in').click(function(){
            zoomElement($(this).data('target'));
        });

				callAllGraphAnimations();
				$(window).on('scroll', function(){
					callAllGraphAnimations();
				});
			});

			function callAllGraphAnimations() {
				animateGraphRowCall(graph1ToFunctionArray,isGraphRow1Reached,1,1,true,"LightBlue",0.7,15);
				animateGraphRowCall(graph1ToFunctionArray,isGraphRow1Reached,1,2,true,"LightBlue",0.8,16);
				animateGraphRowCall(graph1ToFunctionArray,isGraphRow1Reached,1,3,true,"LightBlue",0.9,17);
				animateGraphRowCall(graph1ToFunctionArray,isGraphRow1Reached,1,4,true,"LightBlue",1.0,18);
				animateGraphRowCall(graph1ToFunctionArray,isGraphRow1Reached,1,5,true,"Blue",1.0,19);
				<!---->
				animateGraphRowCall(graph1ToFunctionArray,isGraphRow1Reached,1,6,true,"LightBlue",0.7,17);
				animateGraphRowCall(graph1ToFunctionArray,isGraphRow1Reached,1,7,true,"LightBlue",0.8,18);
				animateGraphRowCall(graph1ToFunctionArray,isGraphRow1Reached,1,8,true,"LightBlue",0.9,18);
				animateGraphRowCall(graph1ToFunctionArray,isGraphRow1Reached,1,9,true,"LightBlue",1.0,18);
				animateGraphRowCall(graph1ToFunctionArray,isGraphRow1Reached,1,10,true,"Blue",1.0,17);


				animateGraphRowCall(graph2ToFunctionArray,isGraphRow2Reached,2,1,true,"LightBlue",0.7,12);
				animateGraphRowCall(graph2ToFunctionArray,isGraphRow2Reached,2,2,true,"LightBlue",0.8,18);
				animateGraphRowCall(graph2ToFunctionArray,isGraphRow2Reached,2,3,true,"LightBlue",0.9,20);
				animateGraphRowCall(graph2ToFunctionArray,isGraphRow2Reached,2,4,true,"LightBlue",1.0,18);
				animateGraphRowCall(graph2ToFunctionArray,isGraphRow2Reached,2,5,true,"Blue",1.0,14);
				<!---->
				animateGraphRowCall(graph2ToFunctionArray,isGraphRow2Reached,2,6,true,"LightBlue",0.7,15);
				animateGraphRowCall(graph2ToFunctionArray,isGraphRow2Reached,2,7,true,"LightBlue",0.8,15);
				animateGraphRowCall(graph2ToFunctionArray,isGraphRow2Reached,2,8,true,"LightBlue",0.9,18);
				animateGraphRowCall(graph2ToFunctionArray,isGraphRow2Reached,2,9,true,"LightBlue",1.0,18);
				animateGraphRowCall(graph2ToFunctionArray,isGraphRow2Reached,2,10,true,"Blue",1.0,12);


				animateGraphRowCall(graph3ToFunctionArray,isGraphRow3Reached,3,1,true,"LightBlue",0.7,19);
				animateGraphRowCall(graph3ToFunctionArray,isGraphRow3Reached,3,2,true,"LightBlue",0.8,20);
				animateGraphRowCall(graph3ToFunctionArray,isGraphRow3Reached,3,3,true,"LightBlue",0.9,19);
				animateGraphRowCall(graph3ToFunctionArray,isGraphRow3Reached,3,4,true,"LightBlue",1.0,17);
				animateGraphRowCall(graph3ToFunctionArray,isGraphRow3Reached,3,5,true,"Blue",1.0,16);
				<!---->
				animateGraphRowCall(graph3ToFunctionArray,isGraphRow3Reached,3,6,true,"LightBlue",0.7,9);
				animateGraphRowCall(graph3ToFunctionArray,isGraphRow3Reached,3,7,true,"LightBlue",0.8,13);
				animateGraphRowCall(graph3ToFunctionArray,isGraphRow3Reached,3,8,true,"LightBlue",0.9,14);
				animateGraphRowCall(graph3ToFunctionArray,isGraphRow3Reached,3,9,true,"LightBlue",1.0,18);
				animateGraphRowCall(graph3ToFunctionArray,isGraphRow3Reached,3,10,true,"Blue",1.0,20);
			}

			function animateGraphRowCall(graphToFuncArray, graphReachedBool,row,column,isGoingUp,color,opacity,height) {
				var bottomTriggerTop = bottomTrigger.offset().top;
				var bottomGraphTriggerTop = $('#graphTriggerBottomRow'+row).offset().top;
				var topGraphTriggerTop = $('#graphTriggerTopRow'+row).offset().top;
				var selector = $('#graph'+row+''+column);

				// console.log(bottomTriggerTop+" : "+topGraphTriggerTop+" : "+bottomGraphTriggerTop+" : "+(bottomTriggerTop>bottomGraphTriggerTop)+" : "+(!graphReachedBool[column-1]));

		    if (bottomTriggerTop>bottomGraphTriggerTop && !graphReachedBool[column-1]) {
	        graphReachedBool[column-1]=true;
	        animateGraph(row,selector,isGoingUp,color,opacity,height);
		    }
		    else if (bottomTriggerTop<topGraphTriggerTop) {
	        graphReachedBool[column-1]=false;
	        $(selector).html('');
	        graphToFuncArray.forEach(function(entry) {
            clearTimeout(entry);
	        });
		    }
			}

			function animateGraph(rowNumber,selector,isGoingUp,color,pOpacity,height) {
				var opacityDecreasor=0.2;
				// if (color=='Blue') opacityDecreasor=0.2;
		    var facingLeft = false;
		    var facing = '';
		    var top=6;
		    if (!isGoingUp) top=0;
		    var left=0;
		    var opacity=1.0*pOpacity;
		    
		    for (i1=1;i1<=height*4;i1++) {
	        if (i1%2==0) {
	            facingLeft=!facingLeft;
	            left=12;
	        } else {
	            if (isGoingUp) top-=6;
	            else top+=6;
	            left=0;
	        }

	        if (i1%3==0) {
	            opacity=1.1;
	        }
	        opacity-=opacityDecreasor;
	        opacity*=pOpacity;

	        if (facingLeft) {
	            facing="Left";
	        } else {
	            facing="Right";
	        }

	        var html='<canvas class="triangle'+facing+color+'" style="top:'+top+'px; left:'+left+'px; opacity:'+opacity+';"></canvas>';
	        animateGraphAction(rowNumber,selector,html,i1,height*4);
		    }
			}

			function animateGraphAction(rowNumber,selector,html,i,blockCount) {
		    var graphToFunction = setTimeout(function(){ 
	        $(selector).append(html);
		    }, graphAnimationTime/blockCount*i);

		    addGraphToArray(rowNumber,graphToFunction);
			}

			function showGraphNumberAndYear(rowNumber,selector,delay) {
		    var graphInfo = setTimeout(function(){ 
	        $(selector).fadeTo("slow", 1.0);
		    }, delay);

		    addGraphToArray(rowNumber,graphInfo);
			}

			function addGraphToArray(rowNumber,functionName) {
		    if (rowNumber==1) {
	        graph1ToFunctionArray.push(functionName);
		    }
		    else if (rowNumber==2) {
	        graph2ToFunctionArray.push(functionName);
		    }
		    else if (rowNumber==3) {
	        graph3ToFunctionArray.push(functionName);
		    }
		    else if (rowNumber==4) {
	        graph4ToFunctionArray.push(functionName);
		    }
		    else if (rowNumber==5) {
	        graph5ToFunctionArray.push(functionName);
		    }
		    else if (rowNumber==6) {
	        graph6ToFunctionArray.push(functionName);
		    }
		    else if (rowNumber==7) {
	        graph7ToFunctionArray.push(functionName);
		    }
			}
		</script>